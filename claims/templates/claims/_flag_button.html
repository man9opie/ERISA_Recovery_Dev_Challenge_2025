{# claims/templates/claims/_flag_button.html #}
{% comment %}
这个片段渲染在 <div id="flag-btn-{{ claim.pk }}"> … </div> 里面
{% endcomment %}

{% if claim.need_review %}
  {# 已加入复核队列：不显示红旗，但保留占位，防止 View 左移 #}
  <span class="flag-space" aria-hidden="true"></span>
{% else %}
  <button class="flag-btn" title="Flag for review"
          hx-get="{% url 'claims:flag_confirm' claim.pk %}"
          hx-target="#modal"
          hx-swap="innerHTML">
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
         fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.75">
      <path d="M5 3v18M5 4h9l-1.5 3H19l-2 4H12l-1.5 3H5"/>
    </svg>
    <span class="sr-only">Flag for review</span>
  </button>
{% endif %}
